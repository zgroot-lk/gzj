# 学生管理系统 - 启动指南

## 📋 前置要求

1. **Node.js** >= 14.0.0（已安装 ✓）
2. **MySQL** >= 5.7（需要确保已安装并运行）

## 🚀 快速启动步骤

### 第一步：安装依赖

如果还没有安装依赖，请先安装：

```bash
# 在项目根目录执行
npm run install-all
```

或者分别安装：

```bash
# 安装后端依赖
npm install

# 安装前端依赖
cd client
npm install
cd ..
```

### 第二步：配置数据库

1. **创建数据库**：
```bash
mysql -u root -p
```

在MySQL命令行中执行：
```sql
CREATE DATABASE student_management CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
EXIT;
```

2. **配置数据库连接**：
   
   编辑项目根目录下的 `.env` 文件，修改数据库连接信息：
```env
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=你的MySQL密码
DB_NAME=student_management
PORT=3001
```

3. **导入数据库表结构**：
```bash
mysql -u root -p student_management < database/schema.sql
```

4. **（可选）导入测试数据**：
```bash
mysql -u root -p student_management < database/init.sql
```

### 第三步：启动服务

#### 方式一：同时启动前后端（推荐）

```bash
# 在项目根目录执行
npm run dev
```

这会同时启动：
- 后端服务：http://localhost:3001
- 前端服务：http://localhost:3000

#### 方式二：分别启动（适合调试）

**终端1 - 启动后端**：
```bash
npm run server
```

**终端2 - 启动前端**：
```bash
cd client
npm start
```

### 第四步：访问系统

启动成功后，在浏览器中打开：

- **前端界面**：http://localhost:3000
- **后端API**：http://localhost:3001/api/health（健康检查）

## 🔧 常见问题

### 1. 数据库连接失败

**错误信息**：`数据库连接失败: Access denied`

**解决方法**：
- 检查 `.env` 文件中的数据库用户名和密码是否正确
- 确保MySQL服务正在运行：`mysql.server start`（macOS）或 `service mysql start`（Linux）

### 2. 端口被占用

**错误信息**：`Port 3000 is already in use` 或 `Port 3001 is already in use`

**解决方法**：
- 修改 `.env` 文件中的 `PORT=3001` 为其他端口
- 或者关闭占用端口的程序

### 3. 前端无法连接后端

**解决方法**：
- 检查后端服务是否正常启动（访问 http://localhost:3001/api/health）
- 检查 `client/.env` 文件中的 `REACT_APP_API_URL` 配置是否正确

### 4. 数据库表不存在

**解决方法**：
- 确保已执行 `mysql -u root -p student_management < database/schema.sql`
- 检查数据库是否创建成功

## 📝 启动命令说明

- `npm run install-all` - 安装所有依赖（后端+前端）
- `npm run dev` - 同时启动前后端服务
- `npm run server` - 只启动后端服务
- `npm run client` - 只启动前端服务

## ✅ 验证启动成功

1. **后端验证**：访问 http://localhost:3001/api/health，应该返回：
```json
{
  "status": "ok",
  "message": "学生管理系统API运行正常"
}
```

2. **前端验证**：访问 http://localhost:3000，应该看到系统登录页面或首页

## 🎯 下一步

启动成功后，你可以：
1. 在"待办事项"页面创建和管理待办事项
2. 在"学生管理"页面添加学生信息
3. 在"数据统计"页面查看各种统计数据

祝使用愉快！🎉


